"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.errorWithCause = void 0;
var string_formatter_1 = require("./string-formatter");
/**
 * @deprecated Since v1.34.0. Use [[ErrorWithCause]] instead.
 * Creates a new Error and adds the stack trace of the original error to the stack trace of the new one.
 * @param message - Error message.
 * @param cause - Original error, causing the new error.
 * @returns A new error with the given cause.
 */
function errorWithCause(message, cause) {
    var newError = new Error(message);
    // Stack is a non-standard property according to https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types
    if (newError.stack && cause.stack) {
        newError.stack =
            newError.stack + "".concat(string_formatter_1.unixEOL, "Caused by:").concat(string_formatter_1.unixEOL) + cause.stack;
    }
    return newError;
}
exports.errorWithCause = errorWithCause;
//# sourceMappingURL=error.js.map